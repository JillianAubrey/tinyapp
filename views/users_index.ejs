<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <%- include('partials/_bootstrapCSS') %>
    <title>TinyApp</title>
  </head>
  <body>
    <%- include('partials/_header') %>
    <main style="margin: 1em;">
      <h3>All users</h3>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">userID</th>
              <th scope="col">user e-mail</th>
              <th scope="col">Admin</th>
              <th scope="col">Promote</th>
              <th scope="col">Delete</th>
            </tr>
          </thead>
          <tbody>
            <% for (const id in users) { %>
              <tr>
                <td><%= id %></a></td>
                <td><%= users[id].email %></td>
                <td><%= (users[id].admin === true) %></td>
                <td>
                  <% if (!users[id].admin) { %>
                    <form method="POST" action="/users/<%= id %>/promote?_method=PUT"><button class="btn btn-outline-primary">Promote</button></form>
                  <% } %>
                </td>
                <td>
                  <% if (id !== user.id) { %>
                    <form method="POST" action="/users/<%= id %>?_method=DELETE"><button class="btn btn-outline-danger">Delete</button></form>
                  <% } %>
                  </td>
              </tr>
            <% } %>
          </tbody>
        </table>
    </main>

    <%- include('partials/_bootstrapJS') %>
  </body>
</html>