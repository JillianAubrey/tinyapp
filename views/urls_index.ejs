<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <%- include('partials/_bootstrapCSS') %>
    <title>TinyApp</title>
  </head>
  <body>
    <%- include('partials/_header') %>
    <main style="margin: 1em;">
      <h3>My URLs</h3>
      <% if (!user) { %>
        <p>You'll need to <a href="/login">login</a> or <a href="/register">create an account</a> to make urls!</p>
      <% } else if (!urls) { %>
        <p>You'll need to <a href="/urls/new">create a url</a> to see something here!</p>
      <% } else { %>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Short URL ID</th>
              <th scope="col">Long URL</th>
              <th scope="col">Edit</th>
              <th scope="col">Delete</th>
            </tr>
          </thead>
          <tbody>
            <% for (let id in urls) { %>
              <tr>
                <td><a href="/urls/<%= id %>"><%= id %></a></td>
                <td><a href="<%= urls[id].longURL %>"><%= urls[id].longURL %></a></td>
                <td><form method="Get" action="/urls/<%= id %>"><button class="btn btn-outline-primary">Edit</button></form></td>
                <td><form method="POST" action="/urls/<%= id %>/delete"><button class="btn btn-outline-danger">Delete</button></form></td>
              </tr>
            <% } %>
          </tbody>
        </table>
      <% } %>
    </main>

    <%- include('partials/_bootstrapJS') %>
  </body>
</html>